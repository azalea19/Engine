\hypertarget{_texture_8cpp}{}\section{C\+:/\+Users/elizabeth/\+Documents/\+Git\+Hub/\+Engine/\+Open\+G\+L\+Engine/\+Open\+G\+L\+Engine/\+Texture.cpp File Reference}
\label{_texture_8cpp}\index{C\+:/\+Users/elizabeth/\+Documents/\+Git\+Hub/\+Engine/\+Open\+G\+L\+Engine/\+Open\+G\+L\+Engine/\+Texture.\+cpp@{C\+:/\+Users/elizabeth/\+Documents/\+Git\+Hub/\+Engine/\+Open\+G\+L\+Engine/\+Open\+G\+L\+Engine/\+Texture.\+cpp}}
{\ttfamily \#include \char`\"{}Texture.\+h\char`\"{}}\\*
{\ttfamily \#include $<$stdio.\+h$>$}\\*
{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include $<$string.\+h$>$}\\*
{\ttfamily \#include $<$G\+L/glew.\+h$>$}\\*
{\ttfamily \#include \char`\"{}S\+D\+L.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}S\+D\+L\+\_\+image.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}Types.\+h\char`\"{}}\\*
{\ttfamily \#include \char`\"{}Screen.\+h\char`\"{}}\\*
Include dependency graph for Texture.\+cpp\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_texture_8cpp__incl}
\end{center}
\end{figure}
\subsection*{Classes}
\begin{DoxyCompactItemize}
\item 
struct \hyperlink{struct_float_color}{Float\+Color}
\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
float \hyperlink{_texture_8cpp_a40052d02573630e6db6b92078c220613}{Gamma\+Corrected\+Average} (float a, float b, float c, float d, float wa, float wb, float wc, float wd)
\item 
G\+Luint \hyperlink{_texture_8cpp_af233cf381f148ea33a3ca84016fada98}{Load\+B\+MP} (const char $\ast$imagepath)
\item 
S\+D\+L\+\_\+\+Surface $\ast$ \hyperlink{_texture_8cpp_ac8e4f07c831ff379d3b0672cdc0839a6}{Convert\+To\+R\+G\+BA} (S\+D\+L\+\_\+\+Surface $\ast$source)
\item 
S\+D\+L\+\_\+\+Surface $\ast$ \hyperlink{_texture_8cpp_a43094b4481e6538fc6edee52884c6107}{Flip\+Surface} (S\+D\+L\+\_\+\+Surface $\ast$source)
\item 
uint32\+\_\+t $\ast$ \hyperlink{_texture_8cpp_ad718f5335c8ffff16a647bb8b0b4d441}{Get\+Pixel\+Data} (S\+D\+L\+\_\+\+Surface $\ast$source)
\item 
\hyperlink{struct_float_color}{Float\+Color} $\ast$ \hyperlink{_texture_8cpp_ab5f4a4fc8ae1e532a05b4b9a5da21582}{Convert\+To\+Float\+Colors} (uint32\+\_\+t $\ast$data, int count)
\item 
uint32\+\_\+t $\ast$ \hyperlink{_texture_8cpp_a5727d3340488e4c65baffe87a276af08}{Convert\+To\+Int\+Colors} (\hyperlink{struct_float_color}{Float\+Color} $\ast$data, int count)
\item 
void \hyperlink{_texture_8cpp_a743116454e95edef0653da2cafa9d5c7}{Threshold\+Alpha} (\hyperlink{struct_float_color}{Float\+Color} $\ast$data, int count, float threshold=1)
\item 
\hyperlink{struct_float_color}{Float\+Color} $\ast$ \hyperlink{_texture_8cpp_a62bbe49f4bcd6c093e946e4bbc46df6e}{Generate\+Mip} (\hyperlink{struct_float_color}{Float\+Color} $\ast$source, int width, int height, int $\ast$mip\+Width, int $\ast$mip\+Height)
\item 
G\+Luint \hyperlink{_texture_8cpp_a062818b8c693ad181e6b67d6986789bd}{Upload\+Texture\+Mipped} (S\+D\+L\+\_\+\+Surface $\ast$source)
\item 
G\+Luint \hyperlink{_texture_8cpp_aecb6af6c82ec36e6fe2f2a7d5be03910}{Load\+Image} (const char $\ast$imagepath, bool use\+Mips)
\item 
G\+Luint \hyperlink{_texture_8cpp_af568967197228d9090a093cc05c976c4}{Create\+Colour\+Texture} (int width, int height)
\item 
G\+Luint \hyperlink{_texture_8cpp_afde0fe59e69ed3d51912ee2bc658051d}{Create\+Colour\+F\+Texture} (int width, int height)
\item 
G\+Luint \hyperlink{_texture_8cpp_a782a9a914e294fa9c09685b1870a19c5}{Create\+Depth\+Texture} (int width, int height)
\item 
G\+Luint \hyperlink{_texture_8cpp_a8a7d0d3edcf2fbd9852b6e57b7c5bb94}{Create\+Vec3\+Texture} (int width, int height)
\end{DoxyCompactItemize}


\subsection{Function Documentation}
\index{Texture.\+cpp@{Texture.\+cpp}!Convert\+To\+Float\+Colors@{Convert\+To\+Float\+Colors}}
\index{Convert\+To\+Float\+Colors@{Convert\+To\+Float\+Colors}!Texture.\+cpp@{Texture.\+cpp}}
\subsubsection[{\texorpdfstring{Convert\+To\+Float\+Colors(uint32\+\_\+t $\ast$data, int count)}{ConvertToFloatColors(uint32_t *data, int count)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Float\+Color}$\ast$ Convert\+To\+Float\+Colors (
\begin{DoxyParamCaption}
\item[{uint32\+\_\+t $\ast$}]{data, }
\item[{int}]{count}
\end{DoxyParamCaption}
)}\hypertarget{_texture_8cpp_ab5f4a4fc8ae1e532a05b4b9a5da21582}{}\label{_texture_8cpp_ab5f4a4fc8ae1e532a05b4b9a5da21582}


Definition at line 171 of file Texture.\+cpp.



References Float\+Color\+::a, Float\+Color\+::b, Float\+Color\+::g, and Float\+Color\+::r.



Referenced by Upload\+Texture\+Mipped().


\begin{DoxyCode}
172 \{
173     \hyperlink{struct_float_color}{FloatColor}* dst = (\hyperlink{struct_float_color}{FloatColor}*)malloc(count * \textcolor{keyword}{sizeof}(
      \hyperlink{struct_float_color}{FloatColor}));
174     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < count; i++)
175     \{
176         dst[i].\hyperlink{struct_float_color_a3e01752ebeb65af08f7f554551d6323a}{a} = ((data[i] >> 24) & 255) / 255.f;
177         dst[i].\hyperlink{struct_float_color_a5bb450f1e1a855b6bf50b436e078252b}{r} = ((data[i] >> 16) & 255) / 255.f;
178         dst[i].\hyperlink{struct_float_color_add6d6df001ec5ccc130b5abfcc820ee5}{g} = ((data[i] >> 8) & 255) / 255.f;
179         dst[i].\hyperlink{struct_float_color_afb5d780447f83234de2518a3faebc401}{b} = ((data[i] >> 0) & 255) / 255.f;
180     \}
181     \textcolor{keywordflow}{return} dst;
182 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=335pt]{_texture_8cpp_ab5f4a4fc8ae1e532a05b4b9a5da21582_icgraph}
\end{center}
\end{figure}


\index{Texture.\+cpp@{Texture.\+cpp}!Convert\+To\+Int\+Colors@{Convert\+To\+Int\+Colors}}
\index{Convert\+To\+Int\+Colors@{Convert\+To\+Int\+Colors}!Texture.\+cpp@{Texture.\+cpp}}
\subsubsection[{\texorpdfstring{Convert\+To\+Int\+Colors(\+Float\+Color $\ast$data, int count)}{ConvertToIntColors(FloatColor *data, int count)}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t$\ast$ Convert\+To\+Int\+Colors (
\begin{DoxyParamCaption}
\item[{{\bf Float\+Color} $\ast$}]{data, }
\item[{int}]{count}
\end{DoxyParamCaption}
)}\hypertarget{_texture_8cpp_a5727d3340488e4c65baffe87a276af08}{}\label{_texture_8cpp_a5727d3340488e4c65baffe87a276af08}


Definition at line 184 of file Texture.\+cpp.



References Float\+Color\+::a, Float\+Color\+::b, Float\+Color\+::g, and Float\+Color\+::r.



Referenced by Upload\+Texture\+Mipped().


\begin{DoxyCode}
185 \{
186     uint32\_t* dst = (uint32\_t*)malloc(count * \textcolor{keyword}{sizeof}(uint32\_t));
187     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < count; i++)
188     \{
189         dst[i] = (((uint32\_t)(data[i].a * 255.0)) & 255) << 24;
190         dst[i] |= (((uint32\_t)(data[i].r * 255.0)) & 255) << 16;
191         dst[i] |= (((uint32\_t)(data[i].g * 255.0)) & 255) << 8;
192         dst[i] |= (((uint32\_t)(data[i].b * 255.0)) & 255) << 0;
193     \}
194     \textcolor{keywordflow}{return} dst;
195 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=324pt]{_texture_8cpp_a5727d3340488e4c65baffe87a276af08_icgraph}
\end{center}
\end{figure}


\index{Texture.\+cpp@{Texture.\+cpp}!Convert\+To\+R\+G\+BA@{Convert\+To\+R\+G\+BA}}
\index{Convert\+To\+R\+G\+BA@{Convert\+To\+R\+G\+BA}!Texture.\+cpp@{Texture.\+cpp}}
\subsubsection[{\texorpdfstring{Convert\+To\+R\+G\+B\+A(\+S\+D\+L\+\_\+\+Surface $\ast$source)}{ConvertToRGBA(SDL_Surface *source)}}]{\setlength{\rightskip}{0pt plus 5cm}S\+D\+L\+\_\+\+Surface$\ast$ Convert\+To\+R\+G\+BA (
\begin{DoxyParamCaption}
\item[{S\+D\+L\+\_\+\+Surface $\ast$}]{source}
\end{DoxyParamCaption}
)}\hypertarget{_texture_8cpp_ac8e4f07c831ff379d3b0672cdc0839a6}{}\label{_texture_8cpp_ac8e4f07c831ff379d3b0672cdc0839a6}


Definition at line 105 of file Texture.\+cpp.



Referenced by Load\+Image().


\begin{DoxyCode}
106 \{
107     SDL\_PixelFormat pf;
108     memset(&pf, 0, \textcolor{keyword}{sizeof}(SDL\_PixelFormat));
109     pf.BitsPerPixel = 32;
110     pf.BytesPerPixel = 4;
111     pf.Rmask = 0x000000ff;
112     pf.Gshift = 8;
113     pf.Gmask = 0x0000ff00;
114     pf.Bshift = 16;
115     pf.Bmask = 0x00ff0000;
116     pf.Ashift = 24;
117     pf.Amask = 0xff000000;
118 
119     \textcolor{keywordflow}{return} SDL\_ConvertSurface(source, &pf, NULL);
120 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=267pt]{_texture_8cpp_ac8e4f07c831ff379d3b0672cdc0839a6_icgraph}
\end{center}
\end{figure}


\index{Texture.\+cpp@{Texture.\+cpp}!Create\+Colour\+F\+Texture@{Create\+Colour\+F\+Texture}}
\index{Create\+Colour\+F\+Texture@{Create\+Colour\+F\+Texture}!Texture.\+cpp@{Texture.\+cpp}}
\subsubsection[{\texorpdfstring{Create\+Colour\+F\+Texture(int width, int height)}{CreateColourFTexture(int width, int height)}}]{\setlength{\rightskip}{0pt plus 5cm}G\+Luint Create\+Colour\+F\+Texture (
\begin{DoxyParamCaption}
\item[{int}]{width, }
\item[{int}]{height}
\end{DoxyParamCaption}
)}\hypertarget{_texture_8cpp_afde0fe59e69ed3d51912ee2bc658051d}{}\label{_texture_8cpp_afde0fe59e69ed3d51912ee2bc658051d}


Definition at line 349 of file Texture.\+cpp.


\begin{DoxyCode}
350 \{
351   \textcolor{keywordflow}{if} (width == 0)
352     width = \hyperlink{_screen_8h_a30da0e5a5d6ee95789dc562a4f495ba9}{GetScreenDimensions}().x;
353 
354   \textcolor{keywordflow}{if} (height == 0)
355     height = \hyperlink{_screen_8h_a30da0e5a5d6ee95789dc562a4f495ba9}{GetScreenDimensions}().y;
356 
357   GLuint result = 0;
358   glGenTextures(1, &result);
359 
360   \textcolor{comment}{//Create color texture}
361   glBindTexture(GL\_TEXTURE\_2D, result);
362   glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_WRAP\_S, GL\_REPEAT);
363   glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_WRAP\_T, GL\_REPEAT);
364   glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MIN\_FILTER, GL\_NEAREST);
365   glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MAG\_FILTER, GL\_NEAREST);
366   glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MAX\_LEVEL, 0);
367   glTexImage2D(GL\_TEXTURE\_2D, 0, GL\_RGBA32F, width, height, 0, GL\_RGBA, GL\_FLOAT, NULL);
368   glBindTexture(GL\_TEXTURE\_2D, 0);
369   \textcolor{keywordflow}{return} result;
370 \}
\end{DoxyCode}
\index{Texture.\+cpp@{Texture.\+cpp}!Create\+Colour\+Texture@{Create\+Colour\+Texture}}
\index{Create\+Colour\+Texture@{Create\+Colour\+Texture}!Texture.\+cpp@{Texture.\+cpp}}
\subsubsection[{\texorpdfstring{Create\+Colour\+Texture(int width, int height)}{CreateColourTexture(int width, int height)}}]{\setlength{\rightskip}{0pt plus 5cm}G\+Luint Create\+Colour\+Texture (
\begin{DoxyParamCaption}
\item[{int}]{width, }
\item[{int}]{height}
\end{DoxyParamCaption}
)}\hypertarget{_texture_8cpp_af568967197228d9090a093cc05c976c4}{}\label{_texture_8cpp_af568967197228d9090a093cc05c976c4}


Definition at line 326 of file Texture.\+cpp.


\begin{DoxyCode}
327 \{
328   \textcolor{keywordflow}{if} (width == 0)
329     width = \hyperlink{_screen_8h_a30da0e5a5d6ee95789dc562a4f495ba9}{GetScreenDimensions}().x;
330 
331   \textcolor{keywordflow}{if} (height == 0)
332     height = \hyperlink{_screen_8h_a30da0e5a5d6ee95789dc562a4f495ba9}{GetScreenDimensions}().y;
333 
334   GLuint result = 0;
335   glGenTextures(1, &result);
336 
337   \textcolor{comment}{//Create color texture}
338   glBindTexture(GL\_TEXTURE\_2D, result);
339   glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_WRAP\_S, GL\_REPEAT);
340   glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_WRAP\_T, GL\_REPEAT);
341   glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MIN\_FILTER, GL\_NEAREST);
342   glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MAG\_FILTER, GL\_NEAREST);
343   glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MAX\_LEVEL, 0);
344   glTexImage2D(GL\_TEXTURE\_2D, 0, GL\_RGBA8, width, height, 0, GL\_BGRA, GL\_UNSIGNED\_BYTE, NULL);
345   glBindTexture(GL\_TEXTURE\_2D, 0);
346   \textcolor{keywordflow}{return} result;
347 \}
\end{DoxyCode}
\index{Texture.\+cpp@{Texture.\+cpp}!Create\+Depth\+Texture@{Create\+Depth\+Texture}}
\index{Create\+Depth\+Texture@{Create\+Depth\+Texture}!Texture.\+cpp@{Texture.\+cpp}}
\subsubsection[{\texorpdfstring{Create\+Depth\+Texture(int width, int height)}{CreateDepthTexture(int width, int height)}}]{\setlength{\rightskip}{0pt plus 5cm}G\+Luint Create\+Depth\+Texture (
\begin{DoxyParamCaption}
\item[{int}]{width, }
\item[{int}]{height}
\end{DoxyParamCaption}
)}\hypertarget{_texture_8cpp_a782a9a914e294fa9c09685b1870a19c5}{}\label{_texture_8cpp_a782a9a914e294fa9c09685b1870a19c5}


Definition at line 372 of file Texture.\+cpp.


\begin{DoxyCode}
373 \{
374   \textcolor{keywordflow}{if} (width == 0)
375     width = \hyperlink{_screen_8h_a30da0e5a5d6ee95789dc562a4f495ba9}{GetScreenDimensions}().x;
376 
377   \textcolor{keywordflow}{if} (height == 0)
378     height = \hyperlink{_screen_8h_a30da0e5a5d6ee95789dc562a4f495ba9}{GetScreenDimensions}().y;
379 
380   GLuint result = 0;
381   glGenTextures(1, &result);
382   \textcolor{comment}{//Create Depth Texture}
383   glBindTexture(GL\_TEXTURE\_2D, result);
384   glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_WRAP\_S, GL\_REPEAT);
385   glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_WRAP\_T, GL\_REPEAT);
386   glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MIN\_FILTER, GL\_NEAREST);
387   glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MAG\_FILTER, GL\_NEAREST);
388   glTexParameteri(GL\_TEXTURE\_2D, GL\_DEPTH\_TEXTURE\_MODE, GL\_INTENSITY);
389   glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_COMPARE\_MODE, GL\_COMPARE\_R\_TO\_TEXTURE);
390   glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_COMPARE\_FUNC, GL\_LEQUAL);
391   glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MAX\_LEVEL, 0);
392   glTexImage2D(GL\_TEXTURE\_2D, 0, GL\_DEPTH\_COMPONENT32, width, height, 0, GL\_DEPTH\_COMPONENT, GL\_FLOAT, NULL
      );
393   glBindTexture(GL\_TEXTURE\_2D, 0);
394   \textcolor{keywordflow}{return} result;
395 \}
\end{DoxyCode}
\index{Texture.\+cpp@{Texture.\+cpp}!Create\+Vec3\+Texture@{Create\+Vec3\+Texture}}
\index{Create\+Vec3\+Texture@{Create\+Vec3\+Texture}!Texture.\+cpp@{Texture.\+cpp}}
\subsubsection[{\texorpdfstring{Create\+Vec3\+Texture(int width, int height)}{CreateVec3Texture(int width, int height)}}]{\setlength{\rightskip}{0pt plus 5cm}G\+Luint Create\+Vec3\+Texture (
\begin{DoxyParamCaption}
\item[{int}]{width, }
\item[{int}]{height}
\end{DoxyParamCaption}
)}\hypertarget{_texture_8cpp_a8a7d0d3edcf2fbd9852b6e57b7c5bb94}{}\label{_texture_8cpp_a8a7d0d3edcf2fbd9852b6e57b7c5bb94}


Definition at line 397 of file Texture.\+cpp.


\begin{DoxyCode}
398 \{
399   \textcolor{keywordflow}{if} (width == 0)
400     width = \hyperlink{_screen_8h_a30da0e5a5d6ee95789dc562a4f495ba9}{GetScreenDimensions}().x;
401 
402   \textcolor{keywordflow}{if} (height == 0)
403     height = \hyperlink{_screen_8h_a30da0e5a5d6ee95789dc562a4f495ba9}{GetScreenDimensions}().y;
404 
405   GLuint result = 0;
406   glGenTextures(1, &result);
407 
408   \textcolor{comment}{//Create color texture}
409   glBindTexture(GL\_TEXTURE\_2D, result);
410   glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_WRAP\_S, GL\_REPEAT);
411   glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_WRAP\_T, GL\_REPEAT);
412   glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MIN\_FILTER, GL\_NEAREST);
413   glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MAG\_FILTER, GL\_NEAREST);
414   glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MAX\_LEVEL, 0);
415   glTexImage2D(GL\_TEXTURE\_2D, 0, GL\_RGB32F, width, height, 0, GL\_RGB, GL\_FLOAT, NULL);
416   glBindTexture(GL\_TEXTURE\_2D, 0);
417   \textcolor{keywordflow}{return} result;
418 \}
\end{DoxyCode}
\index{Texture.\+cpp@{Texture.\+cpp}!Flip\+Surface@{Flip\+Surface}}
\index{Flip\+Surface@{Flip\+Surface}!Texture.\+cpp@{Texture.\+cpp}}
\subsubsection[{\texorpdfstring{Flip\+Surface(\+S\+D\+L\+\_\+\+Surface $\ast$source)}{FlipSurface(SDL_Surface *source)}}]{\setlength{\rightskip}{0pt plus 5cm}S\+D\+L\+\_\+\+Surface$\ast$ Flip\+Surface (
\begin{DoxyParamCaption}
\item[{S\+D\+L\+\_\+\+Surface $\ast$}]{source}
\end{DoxyParamCaption}
)}\hypertarget{_texture_8cpp_a43094b4481e6538fc6edee52884c6107}{}\label{_texture_8cpp_a43094b4481e6538fc6edee52884c6107}


Definition at line 122 of file Texture.\+cpp.



Referenced by Load\+Image().


\begin{DoxyCode}
123 \{
124     SDL\_Surface* dst = SDL\_CreateRGBSurface(NULL, source->w, source->h, 32, 0x000000ff, 0x0000ff00, 0
      x00ff0000, 0xff000000);
125     uint32\_t* dstPixels = (uint32\_t*)(dst->pixels);
126     uint32\_t* srcPixels = (uint32\_t*)(source->pixels);
127     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} y = 0; y < source->h; y++)
128     \{
129         uint32\_t* dstRow = dstPixels + y * (dst->pitch / 4);
130         uint32\_t* srcRow = srcPixels + (source->h - y - 1) * (source->pitch / 4);
131         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} x = 0; x < source->w; x++)
132         \{
133             dstRow[x] = srcRow[x];
134         \}
135     \}
136     \textcolor{keywordflow}{return} dst;
137 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=245pt]{_texture_8cpp_a43094b4481e6538fc6edee52884c6107_icgraph}
\end{center}
\end{figure}


\index{Texture.\+cpp@{Texture.\+cpp}!Gamma\+Corrected\+Average@{Gamma\+Corrected\+Average}}
\index{Gamma\+Corrected\+Average@{Gamma\+Corrected\+Average}!Texture.\+cpp@{Texture.\+cpp}}
\subsubsection[{\texorpdfstring{Gamma\+Corrected\+Average(float a, float b, float c, float d, float wa, float wb, float wc, float wd)}{GammaCorrectedAverage(float a, float b, float c, float d, float wa, float wb, float wc, float wd)}}]{\setlength{\rightskip}{0pt plus 5cm}float Gamma\+Corrected\+Average (
\begin{DoxyParamCaption}
\item[{float}]{a, }
\item[{float}]{b, }
\item[{float}]{c, }
\item[{float}]{d, }
\item[{float}]{wa, }
\item[{float}]{wb, }
\item[{float}]{wc, }
\item[{float}]{wd}
\end{DoxyParamCaption}
)}\hypertarget{_texture_8cpp_a40052d02573630e6db6b92078c220613}{}\label{_texture_8cpp_a40052d02573630e6db6b92078c220613}


Definition at line 19 of file Texture.\+cpp.



Referenced by Generate\+Mip().


\begin{DoxyCode}
20 \{
21     \textcolor{keywordflow}{return} sqrt((a * a * wa + b * b * wb + c * c * wc + d * d * wd) / (wa + wb + wc + wd));
22 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_texture_8cpp_a40052d02573630e6db6b92078c220613_icgraph}
\end{center}
\end{figure}


\index{Texture.\+cpp@{Texture.\+cpp}!Generate\+Mip@{Generate\+Mip}}
\index{Generate\+Mip@{Generate\+Mip}!Texture.\+cpp@{Texture.\+cpp}}
\subsubsection[{\texorpdfstring{Generate\+Mip(\+Float\+Color $\ast$source, int width, int height, int $\ast$mip\+Width, int $\ast$mip\+Height)}{GenerateMip(FloatColor *source, int width, int height, int *mipWidth, int *mipHeight)}}]{\setlength{\rightskip}{0pt plus 5cm}{\bf Float\+Color}$\ast$ Generate\+Mip (
\begin{DoxyParamCaption}
\item[{{\bf Float\+Color} $\ast$}]{source, }
\item[{int}]{width, }
\item[{int}]{height, }
\item[{int $\ast$}]{mip\+Width, }
\item[{int $\ast$}]{mip\+Height}
\end{DoxyParamCaption}
)}\hypertarget{_texture_8cpp_a62bbe49f4bcd6c093e946e4bbc46df6e}{}\label{_texture_8cpp_a62bbe49f4bcd6c093e946e4bbc46df6e}


Definition at line 204 of file Texture.\+cpp.



References Float\+Color\+::a, Float\+Color\+::b, Float\+Color\+::g, Gamma\+Corrected\+Average(), and Float\+Color\+::r.



Referenced by Upload\+Texture\+Mipped().


\begin{DoxyCode}
205 \{
206     \textcolor{keywordtype}{int} newWidth = width >> 1;
207     \textcolor{keywordtype}{int} newHeight = height >> 1;
208 
209     \textcolor{keywordflow}{if} (newWidth * newHeight == 0)
210     \{
211         *mipWidth = 0;
212         *mipHeight = 0;
213         \textcolor{keywordflow}{return} \textcolor{keyword}{nullptr};
214     \}
215 
216     \hyperlink{struct_float_color}{FloatColor}* mip = (\hyperlink{struct_float_color}{FloatColor}*)malloc(\textcolor{keyword}{sizeof}(\hyperlink{struct_float_color}{FloatColor}) * newWidth * 
      newHeight);
217 
218     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} y = 0; y < newHeight; y++)
219     \{
220         \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} x = 0; x < newWidth; x++)
221         \{
222             \hyperlink{struct_float_color}{FloatColor}& dst = mip[y * newWidth + x];
223             \hyperlink{struct_float_color}{FloatColor}& s1 = source[y * 2 * width + x * 2];
224             \hyperlink{struct_float_color}{FloatColor}& s2 = source[y * 2 * width + x * 2 + 1];
225             \hyperlink{struct_float_color}{FloatColor}& s3 = source[(y * 2 + 1) * width + x * 2];
226             \hyperlink{struct_float_color}{FloatColor}& s4 = source[(y * 2 + 1) * width + x * 2 + 1];
227             
228             dst.\hyperlink{struct_float_color_a3e01752ebeb65af08f7f554551d6323a}{a} = (s1.\hyperlink{struct_float_color_a3e01752ebeb65af08f7f554551d6323a}{a} + s2.\hyperlink{struct_float_color_a3e01752ebeb65af08f7f554551d6323a}{a} + s3.\hyperlink{struct_float_color_a3e01752ebeb65af08f7f554551d6323a}{a} + s4.a) / 4;
229             dst.\hyperlink{struct_float_color_a5bb450f1e1a855b6bf50b436e078252b}{r} = \hyperlink{_texture_8cpp_a40052d02573630e6db6b92078c220613}{GammaCorrectedAverage}(s1.\hyperlink{struct_float_color_a5bb450f1e1a855b6bf50b436e078252b}{r}, s2.\hyperlink{struct_float_color_a5bb450f1e1a855b6bf50b436e078252b}{r}, s3.
      \hyperlink{struct_float_color_a5bb450f1e1a855b6bf50b436e078252b}{r}, s4.r, s1.\hyperlink{struct_float_color_a3e01752ebeb65af08f7f554551d6323a}{a}, s2.\hyperlink{struct_float_color_a3e01752ebeb65af08f7f554551d6323a}{a}, s3.\hyperlink{struct_float_color_a3e01752ebeb65af08f7f554551d6323a}{a}, s4.a);
230             dst.\hyperlink{struct_float_color_add6d6df001ec5ccc130b5abfcc820ee5}{g} = \hyperlink{_texture_8cpp_a40052d02573630e6db6b92078c220613}{GammaCorrectedAverage}(s1.\hyperlink{struct_float_color_add6d6df001ec5ccc130b5abfcc820ee5}{g}, s2.\hyperlink{struct_float_color_add6d6df001ec5ccc130b5abfcc820ee5}{g}, s3.
      \hyperlink{struct_float_color_add6d6df001ec5ccc130b5abfcc820ee5}{g}, s4.g, s1.\hyperlink{struct_float_color_a3e01752ebeb65af08f7f554551d6323a}{a}, s2.\hyperlink{struct_float_color_a3e01752ebeb65af08f7f554551d6323a}{a}, s3.\hyperlink{struct_float_color_a3e01752ebeb65af08f7f554551d6323a}{a}, s4.a);
231             dst.\hyperlink{struct_float_color_afb5d780447f83234de2518a3faebc401}{b} = \hyperlink{_texture_8cpp_a40052d02573630e6db6b92078c220613}{GammaCorrectedAverage}(s1.\hyperlink{struct_float_color_afb5d780447f83234de2518a3faebc401}{b}, s2.\hyperlink{struct_float_color_afb5d780447f83234de2518a3faebc401}{b}, s3.
      \hyperlink{struct_float_color_afb5d780447f83234de2518a3faebc401}{b}, s4.b, s1.\hyperlink{struct_float_color_a3e01752ebeb65af08f7f554551d6323a}{a}, s2.\hyperlink{struct_float_color_a3e01752ebeb65af08f7f554551d6323a}{a}, s3.\hyperlink{struct_float_color_a3e01752ebeb65af08f7f554551d6323a}{a}, s4.a);
232         \}
233     \}
234 
235     *mipWidth = newWidth;
236     *mipHeight = newHeight;
237     \textcolor{keywordflow}{return} mip;
238 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=316pt]{_texture_8cpp_a62bbe49f4bcd6c093e946e4bbc46df6e_cgraph}
\end{center}
\end{figure}




Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=298pt]{_texture_8cpp_a62bbe49f4bcd6c093e946e4bbc46df6e_icgraph}
\end{center}
\end{figure}


\index{Texture.\+cpp@{Texture.\+cpp}!Get\+Pixel\+Data@{Get\+Pixel\+Data}}
\index{Get\+Pixel\+Data@{Get\+Pixel\+Data}!Texture.\+cpp@{Texture.\+cpp}}
\subsubsection[{\texorpdfstring{Get\+Pixel\+Data(\+S\+D\+L\+\_\+\+Surface $\ast$source)}{GetPixelData(SDL_Surface *source)}}]{\setlength{\rightskip}{0pt plus 5cm}uint32\+\_\+t$\ast$ Get\+Pixel\+Data (
\begin{DoxyParamCaption}
\item[{S\+D\+L\+\_\+\+Surface $\ast$}]{source}
\end{DoxyParamCaption}
)}\hypertarget{_texture_8cpp_ad718f5335c8ffff16a647bb8b0b4d441}{}\label{_texture_8cpp_ad718f5335c8ffff16a647bb8b0b4d441}


Definition at line 139 of file Texture.\+cpp.



Referenced by Draw\+Image(), Draw\+Text(), Get\+Img\+Data(), Height\+Map\+::\+Load\+Height\+Map(), and Upload\+Texture\+Mipped().


\begin{DoxyCode}
140 \{
141     uint32\_t* data = (uint32\_t*)malloc(\textcolor{keyword}{sizeof}(uint32\_t) * source->w * source->h);
142 
143     uint32\_t* dst = data;
144     uint8\_t* pixels = (uint8\_t*)(source->pixels);
145 
146   \textcolor{keywordflow}{if} (source->format->BytesPerPixel == 4)
147   \{
148     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} y = 0; y < source->h; y++)
149     \{
150       memcpy(dst, pixels, \textcolor{keyword}{sizeof}(uint32\_t) * source->w);
151       dst += source->w;
152       pixels += source->pitch;
153     \}
154   \}
155   \textcolor{keywordflow}{else}
156   \{
157     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} y = 0; y < source->h; y++)
158     \{
159       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} x = 0; x < source->w; x++)
160       \{
161         uint32\_t val = uint32\_t(pixels[x * source->format->BytesPerPixel]);
162         dst[x] = 0xFF000000 | (val << 16) | (val << 8) | (val << 0);
163       \}
164       dst += source->w;
165       pixels += source->pitch;
166     \}
167   \}
168     \textcolor{keywordflow}{return} data;
169 \}
\end{DoxyCode}


Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_texture_8cpp_ad718f5335c8ffff16a647bb8b0b4d441_icgraph}
\end{center}
\end{figure}


\index{Texture.\+cpp@{Texture.\+cpp}!Load\+B\+MP@{Load\+B\+MP}}
\index{Load\+B\+MP@{Load\+B\+MP}!Texture.\+cpp@{Texture.\+cpp}}
\subsubsection[{\texorpdfstring{Load\+B\+M\+P(const char $\ast$imagepath)}{LoadBMP(const char *imagepath)}}]{\setlength{\rightskip}{0pt plus 5cm}G\+Luint Load\+B\+MP (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{imagepath}
\end{DoxyParamCaption}
)}\hypertarget{_texture_8cpp_af233cf381f148ea33a3ca84016fada98}{}\label{_texture_8cpp_af233cf381f148ea33a3ca84016fada98}


Definition at line 24 of file Texture.\+cpp.


\begin{DoxyCode}
25 \{
26 
27     \textcolor{comment}{//printf("Reading image %s\(\backslash\)n", imagepath);}
28 
29     \textcolor{comment}{// Data read from the header of the BMP file}
30     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} header[54];
31     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} dataPos;
32     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} imageSize;
33     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{int} width, height;
34     \textcolor{comment}{// Actual RGB data}
35     \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char} * data;
36 
37     \textcolor{comment}{// Open the file}
38     FILE *file;
39     fopen\_s(&file, imagepath, \textcolor{stringliteral}{"rb"});
40     \textcolor{keywordflow}{if} (!file) \{ printf(\textcolor{stringliteral}{"%s could not be opened.\(\backslash\)n"}, imagepath); getchar(); \textcolor{keywordflow}{return} 0; \}
41 
42     \textcolor{comment}{// Read the header, i.e. the 54 first bytes}
43 
44     \textcolor{comment}{// If less than 54 bytes are read, problem}
45     \textcolor{keywordflow}{if} (fread(header, 1, 54, file) != 54) \{
46         printf(\textcolor{stringliteral}{"Not a correct BMP file\(\backslash\)n"});
47         \textcolor{keywordflow}{return} 0;
48     \}
49     \textcolor{comment}{// A BMP files always begins with "BM"}
50     \textcolor{keywordflow}{if} (header[0] != \textcolor{charliteral}{'B'} || header[1] != \textcolor{charliteral}{'M'}) \{
51         printf(\textcolor{stringliteral}{"Not a correct BMP file\(\backslash\)n"});
52         \textcolor{keywordflow}{return} 0;
53     \}
54     \textcolor{comment}{// Make sure this is a 24bpp file}
55     \textcolor{keywordflow}{if} (*(\textcolor{keywordtype}{int}*)&(header[0x1E]) != 0) \{ printf(\textcolor{stringliteral}{"Not a correct BMP file\(\backslash\)n"});    \textcolor{keywordflow}{return} 0; \}
56     \textcolor{keywordflow}{if} (*(\textcolor{keywordtype}{int}*)&(header[0x1C]) != 24) \{ printf(\textcolor{stringliteral}{"Not a correct BMP file\(\backslash\)n"});    \textcolor{keywordflow}{return} 0; \}
57 
58     \textcolor{comment}{// Read the information about the image}
59     dataPos = *(\textcolor{keywordtype}{int}*)&(header[0x0A]);
60     imageSize = *(\textcolor{keywordtype}{int}*)&(header[0x22]);
61     width = *(\textcolor{keywordtype}{int}*)&(header[0x12]);
62     height = *(\textcolor{keywordtype}{int}*)&(header[0x16]);
63 
64     \textcolor{comment}{// Some BMP files are misformatted, guess missing information}
65     \textcolor{keywordflow}{if} (imageSize == 0)    imageSize = width*height * 3; \textcolor{comment}{// 3 : one byte for each Red, Green and Blue
       component}
66     \textcolor{keywordflow}{if} (dataPos == 0)      dataPos = 54; \textcolor{comment}{// The BMP header is done that way}
67 
68                                          \textcolor{comment}{// Create a buffer}
69     data = \textcolor{keyword}{new} \textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}[imageSize];
70 
71     \textcolor{comment}{// Read the actual data from the file into the buffer}
72     fread(data, 1, imageSize, file);
73 
74     \textcolor{comment}{// Everything is in memory now, the file wan be closed}
75     fclose(file);
76 
77     \textcolor{comment}{// Create one OpenGL texture}
78     GLuint textureID;
79     glGenTextures(1, &textureID);
80 
81     \textcolor{comment}{// "Bind" the newly created texture : all future texture functions will modify this texture}
82     glBindTexture(GL\_TEXTURE\_2D, textureID);
83 
84     \textcolor{comment}{// Give the image to OpenGL}
85     glTexImage2D(GL\_TEXTURE\_2D, 0, GL\_RGB, width, height, 0, GL\_BGR, GL\_UNSIGNED\_BYTE, data);
86 
87     \textcolor{comment}{// OpenGL has now copied the data. Free our own version}
88     \textcolor{keyword}{delete}[] data;
89 
90     \textcolor{comment}{// Poor filtering, or ...}
91     \textcolor{comment}{//glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MAG\_FILTER, GL\_NEAREST);}
92     \textcolor{comment}{//glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MIN\_FILTER, GL\_NEAREST);}
93 
94     \textcolor{comment}{// ... nice trilinear filtering.}
95     glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_WRAP\_S, GL\_REPEAT);
96     glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_WRAP\_T, GL\_REPEAT);
97     glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MAG\_FILTER, GL\_LINEAR);
98     glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MIN\_FILTER, GL\_LINEAR\_MIPMAP\_LINEAR);
99     glGenerateMipmap(GL\_TEXTURE\_2D);
100 
101     \textcolor{comment}{// Return the ID of the texture we just created}
102     \textcolor{keywordflow}{return} textureID;
103 \}
\end{DoxyCode}
\index{Texture.\+cpp@{Texture.\+cpp}!Load\+Image@{Load\+Image}}
\index{Load\+Image@{Load\+Image}!Texture.\+cpp@{Texture.\+cpp}}
\subsubsection[{\texorpdfstring{Load\+Image(const char $\ast$imagepath, bool use\+Mips)}{LoadImage(const char *imagepath, bool useMips)}}]{\setlength{\rightskip}{0pt plus 5cm}G\+Luint Load\+Image (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{imagepath, }
\item[{bool}]{use\+Mips}
\end{DoxyParamCaption}
)}\hypertarget{_texture_8cpp_aecb6af6c82ec36e6fe2f2a7d5be03910}{}\label{_texture_8cpp_aecb6af6c82ec36e6fe2f2a7d5be03910}


Definition at line 286 of file Texture.\+cpp.



References Convert\+To\+R\+G\+B\+A(), and Flip\+Surface().


\begin{DoxyCode}
287 \{
288     GLuint TextureID = 0;
289 
290     SDL\_Surface* rawSurface = IMG\_Load(imagepath);
291 
292     \textcolor{keywordflow}{if} (!rawSurface)
293         \textcolor{keywordflow}{return} 1;
294 
295     SDL\_Surface* convertedSurface = \hyperlink{_texture_8cpp_ac8e4f07c831ff379d3b0672cdc0839a6}{ConvertToRGBA}(rawSurface);
296     SDL\_Surface* flippedSurface = \hyperlink{_texture_8cpp_a43094b4481e6538fc6edee52884c6107}{FlipSurface}(convertedSurface);
297 
298     glGenTextures(1, &TextureID);
299     glBindTexture(GL\_TEXTURE\_2D, TextureID);
300 
301     \textcolor{keywordtype}{int} Mode = GL\_RGBA;
302 
303     glTexImage2D(GL\_TEXTURE\_2D, 0, Mode, flippedSurface->w, flippedSurface->h, 0, Mode, GL\_UNSIGNED\_BYTE, 
      flippedSurface->pixels);
304     
305     glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_WRAP\_S, GL\_REPEAT);
306     glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_WRAP\_T, GL\_REPEAT);
307     glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MAG\_FILTER, GL\_LINEAR);
308   
309   \textcolor{keywordflow}{if} (useMips)
310   \{
311     glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MIN\_FILTER, GL\_LINEAR\_MIPMAP\_LINEAR);
312     glGenerateMipmap(GL\_TEXTURE\_2D);
313   \}
314   \textcolor{keywordflow}{else}
315   \{
316     glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MIN\_FILTER, GL\_LINEAR);
317   \}
318 
319     SDL\_FreeSurface(rawSurface);
320     SDL\_FreeSurface(convertedSurface);
321     SDL\_FreeSurface(flippedSurface);
322 
323     \textcolor{keywordflow}{return} TextureID;
324 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=267pt]{_texture_8cpp_aecb6af6c82ec36e6fe2f2a7d5be03910_cgraph}
\end{center}
\end{figure}


\index{Texture.\+cpp@{Texture.\+cpp}!Threshold\+Alpha@{Threshold\+Alpha}}
\index{Threshold\+Alpha@{Threshold\+Alpha}!Texture.\+cpp@{Texture.\+cpp}}
\subsubsection[{\texorpdfstring{Threshold\+Alpha(\+Float\+Color $\ast$data, int count, float threshold=1)}{ThresholdAlpha(FloatColor *data, int count, float threshold=1)}}]{\setlength{\rightskip}{0pt plus 5cm}void Threshold\+Alpha (
\begin{DoxyParamCaption}
\item[{{\bf Float\+Color} $\ast$}]{data, }
\item[{int}]{count, }
\item[{float}]{threshold = {\ttfamily 1}}
\end{DoxyParamCaption}
)}\hypertarget{_texture_8cpp_a743116454e95edef0653da2cafa9d5c7}{}\label{_texture_8cpp_a743116454e95edef0653da2cafa9d5c7}


Definition at line 197 of file Texture.\+cpp.



References Float\+Color\+::a.



Referenced by Upload\+Texture\+Mipped().


\begin{DoxyCode}
198 \{
199     \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < count; i++)
200         \textcolor{keywordflow}{if} (data[i].a < threshold)
201             data[i].\hyperlink{struct_float_color_a3e01752ebeb65af08f7f554551d6323a}{a} = 0;
202 \}
\end{DoxyCode}


Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=309pt]{_texture_8cpp_a743116454e95edef0653da2cafa9d5c7_icgraph}
\end{center}
\end{figure}


\index{Texture.\+cpp@{Texture.\+cpp}!Upload\+Texture\+Mipped@{Upload\+Texture\+Mipped}}
\index{Upload\+Texture\+Mipped@{Upload\+Texture\+Mipped}!Texture.\+cpp@{Texture.\+cpp}}
\subsubsection[{\texorpdfstring{Upload\+Texture\+Mipped(\+S\+D\+L\+\_\+\+Surface $\ast$source)}{UploadTextureMipped(SDL_Surface *source)}}]{\setlength{\rightskip}{0pt plus 5cm}G\+Luint Upload\+Texture\+Mipped (
\begin{DoxyParamCaption}
\item[{S\+D\+L\+\_\+\+Surface $\ast$}]{source}
\end{DoxyParamCaption}
)}\hypertarget{_texture_8cpp_a062818b8c693ad181e6b67d6986789bd}{}\label{_texture_8cpp_a062818b8c693ad181e6b67d6986789bd}


Definition at line 240 of file Texture.\+cpp.



References Convert\+To\+Float\+Colors(), Convert\+To\+Int\+Colors(), Generate\+Mip(), Get\+Pixel\+Data(), and Threshold\+Alpha().


\begin{DoxyCode}
241 \{
242     \textcolor{keywordtype}{int} width = source->w;
243     \textcolor{keywordtype}{int} height = source->h;
244     \textcolor{keywordtype}{int} newWidth = 0;
245     \textcolor{keywordtype}{int} newHeight = 0;
246 
247     uint32\_t* intPixels = \hyperlink{_texture_8cpp_ad718f5335c8ffff16a647bb8b0b4d441}{GetPixelData}(source);
248     \hyperlink{struct_float_color}{FloatColor}* floatPixels = \hyperlink{_texture_8cpp_ab5f4a4fc8ae1e532a05b4b9a5da21582}{ConvertToFloatColors}(intPixels, width * height)
      ;
249     \hyperlink{_texture_8cpp_a743116454e95edef0653da2cafa9d5c7}{ThresholdAlpha}(floatPixels, width * height, 0.8f);
250     free(intPixels);
251     intPixels = \hyperlink{_texture_8cpp_a5727d3340488e4c65baffe87a276af08}{ConvertToIntColors}(floatPixels, width * height);
252 
253     GLuint textureID = 0;
254     glGenTextures(1, &textureID);
255     glBindTexture(GL\_TEXTURE\_2D, textureID);
256 
257     glTexImage2D(GL\_TEXTURE\_2D, 0, GL\_RGBA, width, height, 0, GL\_RGBA, GL\_UNSIGNED\_BYTE, intPixels);
258     free(intPixels);
259 
260     \hyperlink{struct_float_color}{FloatColor}* mip = \hyperlink{_texture_8cpp_a62bbe49f4bcd6c093e946e4bbc46df6e}{GenerateMip}(floatPixels, width, height, &newWidth, &newHeight);
261     free(floatPixels);
262 
263     \textcolor{keywordtype}{int} mipLevel = 1;
264     \textcolor{keywordflow}{while} (mip)
265     \{
266         intPixels = \hyperlink{_texture_8cpp_a5727d3340488e4c65baffe87a276af08}{ConvertToIntColors}(mip, newWidth * newHeight);
267         glTexImage2D(GL\_TEXTURE\_2D, mipLevel, GL\_RGBA, newWidth, newHeight, 0, GL\_RGBA, GL\_UNSIGNED\_BYTE, 
      intPixels);
268         free(intPixels);
269         \hyperlink{struct_float_color}{FloatColor}* newMips = \hyperlink{_texture_8cpp_a62bbe49f4bcd6c093e946e4bbc46df6e}{GenerateMip}(mip, newWidth, newHeight, &newWidth, &
      newHeight);
270         free(mip);
271         mip = newMips;
272         mipLevel++;
273     \}
274 
275     glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_WRAP\_S, GL\_REPEAT);
276     glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_WRAP\_T, GL\_REPEAT);
277     \textcolor{comment}{//glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MAG\_FILTER, GL\_LINEAR);}
278     \textcolor{comment}{//glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MIN\_FILTER, GL\_LINEAR\_MIPMAP\_LINEAR);}
279     glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MAG\_FILTER, GL\_LINEAR);
280     glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MIN\_FILTER, GL\_LINEAR);
281     glTexParameteri(GL\_TEXTURE\_2D, GL\_TEXTURE\_MAX\_LEVEL, mipLevel - 1);
282 
283     \textcolor{keywordflow}{return} textureID;
284 \}
\end{DoxyCode}


Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{_texture_8cpp_a062818b8c693ad181e6b67d6986789bd_cgraph}
\end{center}
\end{figure}


